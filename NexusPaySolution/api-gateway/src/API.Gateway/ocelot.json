{
  "Routes": [
    // ==============================================
    // üîê IDENTITY SERVICE (Port 5001)
    // ==============================================

    // üîì –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø - –±–µ–∑ —Ç–æ–∫–µ–Ω–∞, —Å rate limiting
    {
      "DownstreamPathTemplate": "/api/v1/user/auth",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/auth",
      "UpstreamHttpMethod": [ "POST" ],
      "RateLimitOptions": {
        "ClientWhitelist": [],
        "EnableRateLimiting": true,
        "Period": "1m",
        "PeriodTimespan": 60,
        "Limit": 10
      }
    },

    // üë§ –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø - –±–µ–∑ —Ç–æ–∫–µ–Ω–∞, —Å rate limiting  
    {
      "DownstreamPathTemplate": "/api/v1/user/create",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/register",
      "UpstreamHttpMethod": [ "POST" ],
      "RateLimitOptions": {
        "EnableRateLimiting": true,
        "Period": "1m",
        "PeriodTimespan": 60,
        "Limit": 5 // 5 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –≤ –º–∏–Ω—É—Ç—É
      }
    },

    // ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï EMAIL - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    {
      "DownstreamPathTemplate": "/api/v1/user/email/confirm",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/email/confirm",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      },
      "FileCacheOptions": {
        "TtlSeconds": 30,
        "Region": "email-confirm"
      }
    },

    // üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï –ö–û–î–ê - —Å rate limiting
    {
      "DownstreamPathTemplate": "/api/v1/user/code/refresh",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/code/refresh",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      },
      "RateLimitOptions": {
        "EnableRateLimiting": true,
        "Period": "1m",
        "PeriodTimespan": 60,
        "Limit": 3
      }
    },

    // ‚úèÔ∏è –û–ë–ù–û–í–õ–ï–ù–ò–ï EMAIL/–ò–ú–ï–ù–ò/–ü–ê–†–û–õ–Ø
    {
      "DownstreamPathTemplate": "/api/v1/user/update/{everything}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/update/{everything}",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      }
    },

    // üëë –ê–ö–¢–ò–í–ê–¶–ò–Ø/–î–ï–ê–ö–¢–ò–í–ê–¶–ò–Ø - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/user/activate/{id}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/activate/{id}",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï - User, Admin
    {
      "DownstreamPathTemplate": "/api/v1/user/delete/{id}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/delete/{id}",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      }
    },

    // üë• –ü–û–õ–£–ß–ï–ù–ò–ï –í–°–ï–• - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    {
      "DownstreamPathTemplate": "/api/v1/user/get/all",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/users",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      },
      "FileCacheOptions": {
        "TtlSeconds": 30, // –ö—ç—à –Ω–∞ 30 —Å–µ–∫—É–Ω–¥
        "Region": "users-list"
      }
    },

    // üë§ –ü–û–õ–£–ß–ï–ù–ò–ï –ü–û ID - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/user/{id}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/users/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // ==============================================
    // üìä LOGGING SERVICE (Port 5002) - —Ç–æ–ª—å–∫–æ Admin
    // ==============================================

    // üìã –ü–û–õ–£–ß–ï–ù–ò–ï –õ–û–ì–û–í - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    {
      "DownstreamPathTemplate": "/api/v1/logs",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5002
        }
      ],
      "UpstreamPathTemplate": "/logging/logs",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      },
      "FileCacheOptions": {
        "TtlSeconds": 10,
        "Region": "logs"
      },
      "RateLimitOptions": {
        "EnableRateLimiting": true,
        "Period": "1m",
        "PeriodTimespan": 60,
        "Limit": 30
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –õ–û–ì–û–í - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/logs/cleanup",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5002
        }
      ],
      "UpstreamPathTemplate": "/logging/cleanup",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –õ–û–ì–û–í –ü–û –î–ù–Ø–ú - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/logs/cleanup/days",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5002
        }
      ],
      "UpstreamPathTemplate": "/logging/cleanup/days",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // ==============================================
    // üìß NOTIFICATION SERVICE (Port 5003) - —Ç–æ–ª—å–∫–æ Admin
    // ==============================================

    // üì® –ü–û–õ–£–ß–ï–ù–ò–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ô - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    {
      "DownstreamPathTemplate": "/api/v1/notification",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5003
        }
      ],
      "UpstreamPathTemplate": "/notifications",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      },
      "FileCacheOptions": {
        "TtlSeconds": 15,
        "Region": "notifications"
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ô - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/notification/cleanup",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5003
        }
      ],
      "UpstreamPathTemplate": "/notifications/cleanup",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ô –ü–û –î–ù–Ø–ú - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/notification/cleanup/days",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5003
        }
      ],
      "UpstreamPathTemplate": "/notifications/cleanup/days",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // ==============================================
    // üìö SWAGGER –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø
    // ==============================================

    // Identity Service Swagger
    {
      "DownstreamPathTemplate": "/swagger/v1/swagger.json",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/identity/swagger/v1/swagger.json",
      "UpstreamHttpMethod": [ "GET" ]
    },

    // Logging Service Swagger
    {
      "DownstreamPathTemplate": "/swagger/v1/swagger.json",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5002
        }
      ],
      "UpstreamPathTemplate": "/logging/swagger/v1/swagger.json",
      "UpstreamHttpMethod": [ "GET" ]
    },

    // Notification Service Swagger
    {
      "DownstreamPathTemplate": "/swagger/v1/swagger.json",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5003
        }
      ],
      "UpstreamPathTemplate": "/notifications/swagger/v1/swagger.json",
      "UpstreamHttpMethod": [ "GET" ]
    }
  ],

  "GlobalConfiguration": {
    "BaseUrl": "https://localhost:5000"
  }
}
