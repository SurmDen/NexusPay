{
  "Routes": [
    // ==============================================
    // üîê IDENTITY SERVICE (Port 5001)
    // ==============================================

    // üîì –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø - –±–µ–∑ —Ç–æ–∫–µ–Ω–∞, —Å rate limiting
    {
      "DownstreamPathTemplate": "/api/v1/user/auth",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/auth",
      "UpstreamHttpMethod": [ "POST" ],
      "RateLimitOptions": {
        "ClientWhitelist": [],
        "EnableRateLimiting": true,
        "Period": "1m",
        "PeriodTimespan": 60,
        "Limit": 10
      }
    },

    // üë§ –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø - –±–µ–∑ —Ç–æ–∫–µ–Ω–∞, —Å rate limiting  
    {
      "DownstreamPathTemplate": "/api/v1/user/create",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/register",
      "UpstreamHttpMethod": [ "POST" ],
      "RateLimitOptions": {
        "EnableRateLimiting": true,
        "Period": "1m",
        "PeriodTimespan": 60,
        "Limit": 5
      }
    },

    // ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï EMAIL - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    {
      "DownstreamPathTemplate": "/api/v1/user/email/confirm",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/email/confirm",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      },
      "FileCacheOptions": {
        "TtlSeconds": 30,
        "Region": "email-confirm"
      }
    },

    // üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï –ö–û–î–ê - —Å rate limiting
    {
      "DownstreamPathTemplate": "/api/v1/user/code/refresh",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/code/refresh",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      },
      "RateLimitOptions": {
        "EnableRateLimiting": true,
        "Period": "1m",
        "PeriodTimespan": 60,
        "Limit": 3
      }
    },

    // ‚úèÔ∏è –û–ë–ù–û–í–õ–ï–ù–ò–ï EMAIL/–ò–ú–ï–ù–ò/–ü–ê–†–û–õ–Ø
    {
      "DownstreamPathTemplate": "/api/v1/user/update/{everything}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/update/{everything}",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      }
    },

    // üëë –ê–ö–¢–ò–í–ê–¶–ò–Ø/–î–ï–ê–ö–¢–ò–í–ê–¶–ò–Ø - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/user/activate/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/activate/{id}",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï - User, Admin
    {
      "DownstreamPathTemplate": "/api/v1/user/delete/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/delete/{id}",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      }
    },

    // üë• –ü–û–õ–£–ß–ï–ù–ò–ï –í–°–ï–• - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    {
      "DownstreamPathTemplate": "/api/v1/user/get/all",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/users",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "User,Admin"
      },
      "FileCacheOptions": {
        "TtlSeconds": 30,
        "Region": "users-list"
      }
    },

    // üë§ –ü–û–õ–£–ß–ï–ù–ò–ï –ü–û ID - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/user/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-identity",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/identity/users/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // ==============================================
    // üìä LOGGING SERVICE (Port 5002) - —Ç–æ–ª—å–∫–æ Admin
    // ==============================================

    // üìã –ü–û–õ–£–ß–ï–ù–ò–ï –õ–û–ì–û–í - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    {
      "DownstreamPathTemplate": "/api/v1/logs",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-logging",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/logging/logs",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      },
      "FileCacheOptions": {
        "TtlSeconds": 10,
        "Region": "logs"
      },
      "RateLimitOptions": {
        "EnableRateLimiting": true,
        "Period": "1m",
        "PeriodTimespan": 60,
        "Limit": 30
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –õ–û–ì–û–í - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/logs/cleanup",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-logging",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/logging/cleanup",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –õ–û–ì–û–í –ü–û –î–ù–Ø–ú - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/logs/cleanup/days",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-logging",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/logging/cleanup/days",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // ==============================================
    // üìß NOTIFICATION SERVICE (Port 5003) - —Ç–æ–ª—å–∫–æ Admin
    // ==============================================

    // üì® –ü–û–õ–£–ß–ï–ù–ò–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ô - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    {
      "DownstreamPathTemplate": "/api/v1/notification",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-notification",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/notifications",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      },
      "FileCacheOptions": {
        "TtlSeconds": 15,
        "Region": "notifications"
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ô - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/notification/cleanup",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-notification",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/notifications/cleanup",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ô –ü–û –î–ù–Ø–ú - —Ç–æ–ª—å–∫–æ Admin
    {
      "DownstreamPathTemplate": "/api/v1/notification/cleanup/days",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-notification",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/notifications/cleanup/days",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // ==============================================
    // üìß WALLET SERVICE (Port 5004)
    // ==============================================
    {
      "DownstreamPathTemplate": "/api/v1/wallet/balance/get/userid/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-wallet",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/wallet/balance/get/userid/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin,User"
      }
    },

    // ==============================================
    // Transaction SERVICE (Port 5004)
    // ==============================================

    // –°–û–ó–î–ê–ù–ò–ï –¢–†–ê–ù–ó–ê–ö–¶–ò–ò
    {
      "DownstreamPathTemplate": "/api/v1/transaction/create",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-transaction",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/transaction/create",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin,User"
      }
    },

    // –ü–û–õ–£–ß–ï–ù–ò–ï –¢–†–ê–ù–ó–ê–ö–¶–ò–ò –ü–û ID
    {
      "DownstreamPathTemplate": "/api/v1/transaction/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-transaction",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/transaction/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin,User"
      }
    },

    // –ü–û–õ–£–ß–ï–ù–ò–ï –í–°–ï–• –¢–†–ê–ù–ó–ê–ö–¶–ò–ô
    {
      "DownstreamPathTemplate": "/api/v1/transaction/get/all",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-transaction",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/transaction/all",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin"
      }
    },

    // –ü–û–õ–£–ß–ï–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–• –¢–†–ê–ù–ó–ê–ö–¶–ò–ô
    {
      "DownstreamPathTemplate": "/api/v1/transaction/user/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "nexuspay-transaction",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/transaction/user/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      },
      "RouteClaimsRequirement": {
        "role": "Admin,User"
      }
    }
  ],

  "GlobalConfiguration": {
    "BaseUrl": "http://localhost:5000"
  }
}